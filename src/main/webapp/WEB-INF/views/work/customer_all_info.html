<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>客户详细信息</title>
  <meta name="viewport" content="width=device-width,initial-scale=1, user-scalable=no">
  <link rel="stylesheet" href="css/amaze/amazeui.css">
  <link rel="stylesheet" href="css/customer_all_info.css">
</head>
<body>
<div>
  <!--客户基本信息-->
  <div data-info-title>
    <div class="customer-info-title">
      客户基本信息<i class="am-icon-chevron-right am-align-right"></i>
    </div>
    <div class="customer-info hide">
      <a onclick="toEditPage(this)"
         class="am-btn am-btn-sm am-btn-primary am-margin-top-sm am-align-right am-radius">编辑</a>
      <table class="am-table am-table-bordered am-table-compact">
        <tr>
          <td>录入时间</td>
          <td><input type="date"></td>
        </tr>
        <tr>
          <td>姓名</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>客户登记</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>手机号</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>年龄</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>性别</td>
          <td>
            <select>
              <option>男</option>
              <option>女</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>住宅电话</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>身份证号</td>
          <td><input type="text"></td>
        </tr>
        <tr>
        <tr>
          <td>是否分配</td>
          <td>
            <select>
              <option>是</option>
              <option>否</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>销售经理</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>婚姻状况</td>
          <td>
            <select>
              <option>已婚</option>
              <option>未婚</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>教育程度</td>
          <td>
            <select>
              <option>博士</option>
              <option>硕士/研究生</option>
              <option>学士/本科</option>
              <option>高中</option>
              <option>初中</option>
              <option>小学</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>户籍所在地</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>籍贯</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>子女状况</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>邮箱</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>QQ</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>微信</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>现居住地址</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>居住时间</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>兴趣爱好</td>
          <td><input type="text"></td>
        </tr>
        <tr class="hide">
          <td colspan="2">
            <a class="confirm-btn">确认修改</a>
          </td>
        </tr>
      </table>
    </div>
  </div>

  <!--客户工作单位信息-->
  <div data-info-title>
    <div class="customer-info-title ">
      客户工作单位信息<i class="am-icon-chevron-right am-align-right"></i>
    </div>
    <div class="customer-info hide">
      <a onclick="toEditPage(this)"
         class="am-btn am-btn-sm am-btn-primary am-margin-top-sm am-align-right am-radius">编辑</a>
      <table class="am-table am-table-bordered am-table-compact">
        <tr>
          <td>公司名称</td>
          <td><input type="date"></td>
        </tr>
        <tr>
          <td>公司地址</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>公司电话</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>公司性质</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>所在部门</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>职务</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>收入状况</td>
          <td>
            <select>
              <option>3万以上</option>
              <option>2万-3万</option>
              <option>1万-2万</option>
              <option>8000-1万</option>
              <option>6000-8000</option>
              <option>4000-6000</option>
              <option>4000以下</option>
            </select>
          </td>
        </tr>
        <tr>

        <tr class="hide">
          <td colspan="2">
            <a class="confirm-btn">确认修改</a>
          </td>
        </tr>
      </table>
    </div>
  </div>

  <!--客户配偶信息-->
  <div data-info-title>
    <div class="customer-info-title ">
      客户配偶信息<i class="am-icon-chevron-right am-align-right"></i>
    </div>
    <div class="customer-info hide">
      <a onclick="toEditPage(this)"
         class="am-btn am-btn-sm am-btn-primary am-margin-top-sm am-align-right am-radius">编辑</a>
      <table class="am-table am-table-bordered am-table-compact">
        <tr>
          <td>姓名</td>
          <td><input type="date"></td>
        </tr>
        <tr>
          <td>年龄</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>手机号</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>公司名称</td>
          <td><input type="date"></td>
        </tr>
        <tr>
          <td>公司地址</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>公司电话</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>职务</td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>收入状况</td>
          <td>
            <select>
              <option>3万以上</option>
              <option>2万-3万</option>
              <option>1万-2万</option>
              <option>8000-1万</option>
              <option>6000-8000</option>
              <option>4000-6000</option>
              <option>4000以下</option>
            </select>
          </td>
        </tr>
        <tr>

        <tr class="hide">
          <td colspan="2">
            <a class="confirm-btn">确认修改</a>
          </td>
        </tr>
      </table>
    </div>
  </div>

  <!--客户房产信息-->
  <div data-info-title>
    <div class="customer-info-title ">
      客户房产信息<i class="am-icon-chevron-right am-align-right"></i>
    </div>
    <div class="customer-info hide">
      <a onclick="toAddHouse(this)"
         class="am-btn am-btn-sm am-btn-secondary am-margin-top am-margin-left am-radius">添加房产</a>
      <div data-info-title>
        <div class="customer-info-title title-2">
          房产1<i class="am-icon-chevron-right am-align-right"></i>
        </div>
        <div class="customer-info hide">
          <a onclick="toEditPage(this)"
             class="am-btn am-btn-sm am-btn-primary am-margin-top-sm am-align-right am-radius">编辑</a>
          <table class="am-table am-table-bordered am-table-compact">
            <tr>
              <td>房屋类型</td>
              <td><input type="date"></td>
            </tr>
            <tr>
              <td>房屋地址</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>房屋面积</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>购买时间</td>
              <td><input type="date"></td>
            </tr>
            <tr>
              <td>购买价格</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>贷款金额</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>是否按揭</td>
              <td>
                <select>
                  <option>是</option>
                  <option>否</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>按揭金额</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>是否抵押</td>
              <td>
                <select>
                  <option>是</option>
                  <option>否</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>抵押金额</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>月供款</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>产权比例</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>共有人</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>使用情况</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>租金</td>
              <td><input type="text"></td>
            </tr>

            <tr class="hide">
              <td colspan="2">
                <a class="confirm-btn">确认修改</a>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!--客户车产信息-->
  <div data-info-title>
    <div class="customer-info-title ">
      客户车产信息<i class="am-icon-chevron-right am-align-right"></i>
    </div>
    <div class="customer-info hide">
      <a onclick="toAddCar(this)"
         class="am-btn am-btn-sm am-btn-secondary am-margin-top am-margin-left am-radius">添加车辆</a>
      <div data-info-title>
        <div class="customer-info-title title-2">
          车辆1<i class="am-icon-chevron-right am-align-right"></i>
        </div>
        <div class="customer-info hide">
          <a onclick="toEditPage(this)"
             class="am-btn am-btn-sm am-btn-primary am-margin-top-sm am-align-right am-radius">编辑</a>
          <table class="am-table am-table-bordered am-table-compact">
            <tr>
              <td>品牌</td>
              <td><input type="date"></td>
            </tr>
            <tr>
              <td>型号</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>车牌号</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>行驶里程</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>购买时间</td>
              <td><input type="date"></td>
            </tr>
            <tr>
              <td>购买价格</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>贷款金额</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>是否按揭</td>
              <td>
                <select>
                  <option>是</option>
                  <option>否</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>按揭金额</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>是否抵押</td>
              <td>
                <select>
                  <option>是</option>
                  <option>否</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>抵押金额</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>月供款</td>
              <td><input type="text"></td>
            </tr>

            <tr class="hide">
              <td colspan="2">
                <a class="confirm-btn">确认修改</a>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!--客户公司信息-->
  <div data-info-title>
    <div class="customer-info-title ">
      客户公司信息<i class="am-icon-chevron-right am-align-right"></i>
    </div>
    <div class="customer-info hide">
      <a onclick="toAddCompany(this)"
         class="am-btn am-btn-sm am-btn-secondary am-margin-top am-margin-left am-radius">添加公司</a>
      <div data-info-title>
        <div class="customer-info-title title-2">
          公司1<i class="am-icon-chevron-right am-align-right"></i>
        </div>
        <div class="customer-info hide">
          <a onclick="toEditPage(this)"
             class="am-btn am-btn-sm am-btn-primary am-margin-top-sm am-align-right am-radius">编辑</a>
          <table class="am-table am-table-bordered am-table-compact">
            <tr>
              <td>名称</td>
              <td><input type="date"></td>
            </tr>
            <tr>
              <td>注册地址</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>办公地址</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>注册资本</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>成立时间</td>
              <td><input type="date"></td>
            </tr>
            <tr>
              <td>实营时间</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>公司性质</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>主营业务</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>实收资本</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>股权结构</td>
              <td><input type="text"></td>
            </tr>

            <tr class="hide">
              <td colspan="2">
                <a class="confirm-btn">确认修改</a>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!--其他联系人信息-->
  <div data-info-title>
    <div class="customer-info-title ">
      其他联系人信息<i class="am-icon-chevron-right am-align-right"></i>
    </div>
    <div class="customer-info hide">
      <a onclick="toAddContact(this)"
         class="am-btn am-btn-sm am-btn-secondary am-margin-top am-margin-left am-radius">添加联系人</a>
      <div data-info-title>
        <div class="customer-info-title title-2">
          联系人1<i class="am-icon-chevron-right am-align-right"></i>
        </div>
        <div class="customer-info hide">
          <a onclick="toEditPage(this)"
             class="am-btn am-btn-sm am-btn-primary am-margin-top-sm am-align-right am-radius">编辑</a>
          <table class="am-table am-table-bordered am-table-compact">
            <tr>
              <td>姓名</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>关系</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>联系电话</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>关系</td>
              <td><input type="text"></td>
            </tr>
            <tr>
              <td>地址</td>
              <td><input type="date"></td>
            </tr>
            <tr>
              <td>知悉贷款</td>
              <td>
                <select>
                  <option>是</option>
                  <option>否</option>
                </select>
              </td>
            </tr>


            <tr class="hide">
              <td colspan="2">
                <a class="confirm-btn">确认修改</a>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!--客户跟踪信息-->
  <div data-info-title>
    <div class="customer-info-title ">
      客户跟踪信息<i class="am-icon-chevron-right am-align-right"></i>
    </div>
    <div class="customer-info hide">
      <a onclick="toAddFollow(this)"
         class="am-btn am-btn-sm am-btn-secondary am-margin-top am-margin-left am-radius">添加最新动态</a>
      <div data-info-title>
        <div class="customer-info-title title-2">
          12月21日<i class="am-icon-chevron-right am-align-right"></i>
        </div>
        <div class="customer-info hide">
          <a onclick="toEditPage(this)"
             class="am-btn am-btn-sm am-btn-primary am-margin-top-sm am-align-right am-radius">编辑</a>
          <table class="am-table am-table-bordered am-table-compact">
            <tr>
              <td>
                <textarea>去拜访客户，和客户交谈</textarea>
              </td>
            </tr>
            <tr class="hide">
              <td>
                <a class="confirm-btn">确认修改</a>
              </td>
            </tr>
          </table>
        </div>
      </div>

      <div data-info-title>
        <div class="customer-info-title title-2">
          12月22日<i class="am-icon-chevron-right am-align-right"></i>
        </div>
        <div class="customer-info hide">
          <a onclick="toEditPage(this)"
             class="am-btn am-btn-sm am-btn-primary am-margin-top-sm am-align-right am-radius">编辑</a>
          <table class="am-table am-table-bordered am-table-compact">
            <tr>
              <td>
                <textarea>去拜访客户，和客户交谈</textarea>
              </td>
            </tr>
            <tr class="hide">
              <td>
                <a class="confirm-btn">确认修改</a>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!--客户证件信息-->
  <div data-info-title>
    <div class="customer-info-title ">
      客户证件信息<i class="am-icon-chevron-right am-align-right"></i>
    </div>
    <div class="customer-info hide">
      <a onclick="toAddCard(this)"
         class="am-btn am-btn-sm am-btn-secondary am-margin-top am-margin-left am-radius">添加新证件</a>
      <div data-info-title>
        <div class="customer-info-title title-2">
          身份证正面<i class="am-icon-chevron-right am-align-right"></i>
        </div>
        <div class="customer-info hide">
          <a onclick="toEditPage(this)"
             class="am-btn am-btn-sm am-btn-primary am-margin-top-sm am-align-right am-radius">编辑</a>
          <table class="am-table am-table-bordered am-table-compact">
            <tr>
              <td>
                <div onclick="uploadImg(this)" class="img-container">
                  <span>点击上传图片</span>
                  <img id="img" class="hide" src="">
                  <input id="img_push" class="hide" type="file" accept="image/*">
                </div>
              </td>
            </tr>

            <tr class="hide">
              <td >
                <a class="confirm-btn">确认修改</a>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>


<script src="../../js/jquery.js"></script>

<script>
  //点击上传图片功能实现
  var image = '';
  
  function uploadImg(obj) {
    var pNode = $(obj);


    var imgNode = pNode.children('img')[0];

    var img_p = pNode.children('input')[0];

    img_p.click(); //隐藏了input:file样式后，点击头像就可以本地上传

    $(img_p).on("change", function () {
      var objUrl = getObjectURL(this.files[0]); //获取图片的路径，该路径不是图片在本地的路径
      if (objUrl) {
        $(imgNode).attr("src", objUrl); //将图片路径存入src中，显示出图片
        $(imgNode).removeClass('hide');
      }

      if(!this.files || !this.files[0]){
        alert('请上传图片后再提交');
        return;
      }
      var reader = new FileReader();
      reader.onload = function(evt){
        image = evt.target.result;
        console.log(image);
      };
      reader.readAsDataURL(this.files[0]);

      var spNode = pNode.children('span')[0];
      $(spNode).addClass('hide');
    });
  }

  function getObjectURL(file) {
    var url = null;
    if (window.createObjectURL != undefined) { // basic
      url = window.createObjectURL(file);
    } else if (window.URL != undefined) { // mozilla(firefox)
      url = window.URL.createObjectURL(file);
    } else if (window.webkitURL != undefined) { // webkit or chrome
      url = window.webkitURL.createObjectURL(file);
    }
    return url;
  }

</script>
<script>
  //编辑事件
  function toEditPage(obj) {
    var pNode = obj.parentNode;
    var confirmBtn = $(pNode).find('a')[1];
    var tdNode = confirmBtn.parentNode;
    var trNode = tdNode.parentNode;

    $(trNode).removeClass('hide');
  }

  //添加 房产 车产 公司 联系人 跟踪信息 证件信息
  function toAddHouse(obj) {
    var pNode = obj.parentNode;
    var str = '';
    str += '<div data-info-title>\n' +
        '        <div onclick="extension(this)" class="customer-info-title title-2">\n' +
        '          增加房产<i class="am-icon-chevron-right am-align-right"></i>&emsp;<span onclick="removeP(this)" class="am-icon-trash-o am-text-danger am-align-left"></span>\n' +
        '        </div>\n' +
        '        <div class="customer-info hide">\n' +
        '          <table class="am-table am-table-bordered am-table-compact">\n' +
        '            <tr>\n' +
        '              <td>房屋类型</td>\n' +
        '              <td><input type="date"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>房屋地址</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>房屋面积</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>购买时间</td>\n' +
        '              <td><input type="date"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>购买价格</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>贷款金额</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>是否按揭</td>\n' +
        '              <td>\n' +
        '                <select>\n' +
        '                  <option>是</option>\n' +
        '                  <option>否</option>\n' +
        '                </select>\n' +
        '              </td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>按揭金额</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>是否抵押</td>\n' +
        '              <td>\n' +
        '                <select>\n' +
        '                  <option>是</option>\n' +
        '                  <option>否</option>\n' +
        '                </select>\n' +
        '              </td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>抵押金额</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>月供款</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>产权比例</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>共有人</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>使用情况</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>租金</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '\n' +
        '            <tr class="">\n' +
        '              <td colspan="2">\n' +
        '                <a class="confirm-btn">确认修改</a>\n' +
        '              </td>\n' +
        '            </tr>\n' +
        '          </table>\n' +
        '        </div>\n' +
        '      </div>';

    $(pNode).append(str);
  }
  function toAddCar(obj) {
    var pNode = obj.parentNode;
    var str = '';
    str += '<div data-info-title>\n' +
        '        <div onclick="extension(this)" class="customer-info-title title-2">\n' +
        '          增加车辆<i class="am-icon-chevron-right am-align-right"></i>&emsp;<span onclick="removeP(this)" class="am-icon-trash-o am-text-danger am-align-left"></span>\n' +
        '        </div>\n' +
        '        <div class="customer-info hide">\n' +
        '          <table class="am-table am-table-bordered am-table-compact">\n' +
        '            <tr>\n' +
        '              <td>品牌</td>\n' +
        '              <td><input type="date"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>型号</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>车牌号</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>行驶里程</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>购买时间</td>\n' +
        '              <td><input type="date"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>购买价格</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>贷款金额</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>是否按揭</td>\n' +
        '              <td>\n' +
        '                <select>\n' +
        '                  <option>是</option>\n' +
        '                  <option>否</option>\n' +
        '                </select>\n' +
        '              </td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>按揭金额</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>是否抵押</td>\n' +
        '              <td>\n' +
        '                <select>\n' +
        '                  <option>是</option>\n' +
        '                  <option>否</option>\n' +
        '                </select>\n' +
        '              </td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>抵押金额</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>月供款</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '\n' +
        '            <tr class="">\n' +
        '              <td colspan="2">\n' +
        '                <a class="confirm-btn">确认修改</a>\n' +
        '              </td>\n' +
        '            </tr>\n' +
        '          </table>\n' +
        '        </div>\n' +
        '      </div>';

    $(pNode).append(str);
  }
  function toAddCompany(obj) {
    var pNode = obj.parentNode;
    var str = '';
    str += '<div data-info-title>\n' +
        '        <div onclick="extension(this)" class="customer-info-title title-2">\n' +
        '          增加公司<i class="am-icon-chevron-right am-align-right"></i>&emsp;<span onclick="removeP(this)" class="am-icon-trash-o am-text-danger am-align-left"></span>\n' +
        '        </div>\n' +
        '        <div class="customer-info hide">\n' +
        '          <table class="am-table am-table-bordered am-table-compact">\n' +
        '           <tr>\n' +
        '              <td>名称</td>\n' +
        '              <td><input type="date"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>注册地址</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>办公地址</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>注册资本</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>成立时间</td>\n' +
        '              <td><input type="date"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>实营时间</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>公司性质</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>主营业务</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>实收资本</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>股权结构</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>' +
        '\n' +
        '            <tr class="">\n' +
        '              <td colspan="2">\n' +
        '                <a class="confirm-btn">确认修改</a>\n' +
        '              </td>\n' +
        '            </tr>\n' +
        '          </table>\n' +
        '        </div>\n' +
        '      </div>';

    $(pNode).append(str);
  }
  function toAddContact(obj) {
    var pNode = obj.parentNode;
    var str = '';
    str += '<div data-info-title>\n' +
        '        <div onclick="extension(this)" class="customer-info-title title-2">\n' +
        '          增加联系人<i class="am-icon-chevron-right am-align-right"></i>&emsp;<span onclick="removeP(this)" class="am-icon-trash-o am-text-danger am-align-left"></span>\n' +
        '        </div>\n' +
        '        <div class="customer-info hide">\n' +
        
        '          <table class="am-table am-table-bordered am-table-compact">\n' +
        '           <tr>\n' +
        '              <td>姓名</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>关系</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>联系电话</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>关系</td>\n' +
        '              <td><input type="text"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>地址</td>\n' +
        '              <td><input type="date"></td>\n' +
        '            </tr>\n' +
        '            <tr>\n' +
        '              <td>知悉贷款</td>\n' +
        '              <td>\n' +
        '                <select>\n' +
        '                  <option>是</option>\n' +
        '                  <option>否</option>\n' +
        '                </select>\n' +
        '              </td>\n' +
        '            </tr>' +
        '\n' +
        '            <tr class="">\n' +
        '              <td colspan="2">\n' +
        '                <a class="confirm-btn">确认修改</a>\n' +
        '              </td>\n' +
        '            </tr>\n' +
        '          </table>\n' +
        '        </div>\n' +
        '      </div>';

    $(pNode).append(str);
  }
  function toAddFollow(obj) {
    var pNode = obj.parentNode;
    var str = '';
    str += '<div data-info-title>\n' +
        '        <div onclick="extension(this)" class="customer-info-title title-2">\n' +
        '          新增跟踪信息<i class="am-icon-chevron-right am-align-right"></i>&emsp;<span onclick="removeP(this)" class="am-icon-trash-o am-text-danger am-align-left"></span>\n' +
        '        </div>\n' +
        '        <div class="customer-info hide">\n' +

        '          <table class="am-table am-table-bordered am-table-compact">\n' +
        '            <tr>\n' +
        '              <td>\n' +
        '                <textarea>去拜访客户，和客户交谈</textarea>\n' +
        '              </td>\n' +
        '            </tr>' +
        '\n' +
        '            <tr class="">\n' +
        '              <td>\n' +
        '                <a class="confirm-btn">确认修改</a>\n' +
        '              </td>\n' +
        '            </tr>\n' +
        '          </table>\n' +
        '        </div>\n' +
        '      </div>';

    $(pNode).append(str);
  }
  function toAddCard(obj) {
    var pNode = obj.parentNode;
    var str = '';
    str += '<div data-info-title>\n' +
        '        <div onclick="extension(this)" class="customer-info-title title-2">\n' +
        '          新增证件信息<i class="am-icon-chevron-right am-align-right"></i>&emsp;<span onclick="removeP(this)" class="am-icon-trash-o am-text-danger am-align-left"></span>\n' +
        '        </div>\n' +
        '        <div class="customer-info hide">\n' +

        '          <table class="am-table am-table-bordered am-table-compact">\n' +
        '            <tr>\n' +
        '              <td>\n' +
        '                <input type="text" placeholder="证件名称">\n' +
        '              </td>\n' +
        '            </tr>' +
        '             <tr>\n' +
        '              <td>\n' +
        '                <div onclick="uploadImg(this)" class="img-container">\n' +
        '                  <span>点击上传图片</span>\n' +
        '                  <img class="hide" src="">\n' +
        '                  <input  class="hide" type="file" accept="image/*">\n' +
        '                </div>\n' +
        '              </td>\n' +
        '            </tr>' +
        '\n' +
        '            <tr class="">\n' +
        '              <td>\n' +
        '                <a class="confirm-btn">确认修改</a>\n' +
        '              </td>\n' +
        '            </tr>\n' +
        '          </table>\n' +
        '        </div>\n' +
        '      </div>';

    $(pNode).append(str);
  }

</script>
<script>

  //移除添加项
  function removeP(obj) {
    var pNode = obj.parentNode;
    var ppNode =pNode.parentNode;
    var pppNode = ppNode.parentNode;

    pppNode.removeChild(ppNode);
  }

  //展开事件
  function extension(obj) {
    var pNode = obj.parentNode;
    var childNodes = $(pNode).children('div');
    var child_2 = childNodes[1];
    var iNode = $(obj).children('i')[0];
    var iNo = $(iNode);
    if (iNo.hasClass('am-icon-chevron-right')) {
      iNo.removeClass('am-icon-chevron-right');
      iNo.addClass('am-icon-chevron-down');
      $(obj).addClass('customer-active');
      $(child_2).removeClass('hide');
    } else {
      iNo.removeClass('am-icon-chevron-down');
      iNo.addClass('am-icon-chevron-right');
      $(obj).removeClass('customer-active');
      $(child_2).addClass('hide');
    }
  }

  $('.customer-info-title').click(function () {
    var pNode = this.parentNode;
    var childNodes = $(pNode).children('div');
    var child_2 = childNodes[1];
    var iNode = $(this).children('i')[0];
    var iNo = $(iNode);
    if (iNo.hasClass('am-icon-chevron-right')) {
      iNo.removeClass('am-icon-chevron-right');
      iNo.addClass('am-icon-chevron-down');
      $(this).addClass('customer-active');
      $(child_2).removeClass('hide');
    } else {
      iNo.removeClass('am-icon-chevron-down');
      iNo.addClass('am-icon-chevron-right');
      $(this).removeClass('customer-active');
      $(child_2).addClass('hide');
    }
  })

</script>
</body>
</html>